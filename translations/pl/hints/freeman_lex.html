<body data-author="freeman_lex">
<div class="question-answer">
    <div class="question">
        Nie mam pojÄ™cia, jak zaczÄ…Ä‡ rozwiÄ…zywaÄ‡ tÄ™ misjÄ™.
    </div>
    <div class="answer">
        <p>
            ProszÄ™ zÅ‚apaÄ‡ jakiÅ› pomysÅ‚ ğŸ’¡! ProszÄ™ przekonwertowaÄ‡ wszystkie daty (podane dwie i Å›wiÄ™ta) do formatu <b class="code">date</b>, przekonwertowaÄ‡ czas na minuty i sekundy jako liczby caÅ‚kowite, znaleÅºÄ‡ czas trwania dnia roboczego. Podczas iteracji po datach miÄ™dzy podanymi dwoma, proszÄ™ policzyÄ‡ tylko te, ktÃ³re nie sÄ… Å›wiÄ™tami i nie sÄ… weekendami. MajÄ…c czas trwania dnia i liczbÄ™ rzeczywistych dni roboczych, proszÄ™ znaleÅºÄ‡ caÅ‚kowitÄ… liczbÄ™ godzin pracy.
        </p>
    </div>
</div>
<div class="question-answer">
    <div class="question">
        Od czego powinienem zaczÄ…Ä‡?
    </div>
    <div class="answer">
        <p>
            Do pracy z datami i godzinami mogÄ… PaÅ„stwo uÅ¼yÄ‡ takich obiektÃ³w z moduÅ‚u standardowego <a target="_blank" href="https://docs.python.org/3/library/datetime.html">datetime</a>, jak <b class="code">date</b> i <b class="code">timedelta</b>. ProszÄ™ poczytaÄ‡ o nich, to bardzo pomoÅ¼e w rozwiÄ…zaniu tego zadania.
        </p>
        <pre class="brush: python">
from datetime import timedelta, date
        </pre>
        <p>
            ProszÄ™ przekonwertowaÄ‡ wszystkie podane daty z typu <b class="code">str</b> na obiekt <b class="code">date</b>. ProszÄ™ uÅ¼yÄ‡ wbudowanej funkcji <a target="_blank" href="https://www.w3schools.com/python/ref_func_map.asp">map()</a> i zastosowaÄ‡ metodÄ™ <a target="_blank" href="https://docs.python.org/3/library/datetime.html#datetime.date.fromisoformat">date.fromisoformat</a> do kaÅ¼dej daty po kolei (wszystkie podane ciÄ…gi znakÃ³w nadajÄ… siÄ™ do tej konwersji formatu). ProszÄ™ zauwaÅ¼yÄ‡, Å¼e gdy odwoÅ‚ujÄ… siÄ™ PaÅ„stwo do metody, proszÄ™ nie uÅ¼ywaÄ‡ nawiasÃ³w.
        </p>
        <pre class="brush: python">
d1, d2 = map(date.fromisoformat, (date1, date2))
holy = tuple(map(date.fromisoformat, holy))
        </pre>
        <p>
            <b class="code">map()</b> funkcja zwraca obiekt <b class="code">map</b>, wiÄ™c w pierwszym przypadku naleÅ¼y uÅ¼yÄ‡ rozpakowywania, a w drugim konwersji na sekwencjÄ™ za pomocÄ… <b class="code">tuple()</b>.
        </p>
    </div>
</div>
<div class="question-answer">
    <div class="question">
        Co robiÄ‡ dalej?
    </div>
    <div class="answer">
        <p>
            ProszÄ™ uÅ¼yÄ‡ tej samej logiki i przekonwertowaÄ‡ czas na minuty i sekundy jako liczby caÅ‚kowite. <a target="_blank" href="https://www.w3schools.com/python/ref_string_split.asp">split()</a> ciÄ…gi znakÃ³w na minuty i sekundy z separatorem ":".
        </p>
        <pre class="brush: python">
h1, m1 = map(int, start_time.split(":"))
h2, m2 = map(int, end_time.split(":"))
        </pre>
    </div>
</div>
<div class="question-answer">
    <div class="question">
        ProszÄ™ o pomoc!
    </div>
    <div class="answer">
        <p>
            Teraz mogÄ… PaÅ„stwo obliczyÄ‡ czas trwania dnia roboczego jako rÃ³Å¼nicÄ™ godzin i minut. W tym celu proszÄ™ uÅ¼yÄ‡ obiektu <b class="code">timedelta</b>. ProszÄ™ rÃ³wnieÅ¼ zadeklarowaÄ‡ zmiennÄ… do przechowywania liczby rzeczywistych dni roboczych.
        </p>
        <pre class="brush: python">
working_hours_day = timedelta(hours=h2-h1, minutes=m2-m1)
days = 0
        </pre>
    </div>
</div>
<div class="question-answer">
    <div class="question">
        Jak znaleÅºÄ‡ liczbÄ™ dni roboczych?
    </div>
    <div class="answer">
        <p>
            ProponujÄ™ zmieniÄ‡ <b class="code">d1</b> z pierwotnej wartoÅ›ci dzieÅ„ po dniu na <b class="code">d2</b> i sprawdzaÄ‡ kaÅ¼dego dnia, czy nie jest to Å›wiÄ™to lub weekend. JeÅ›li jest to <b class="code">True</b> - proszÄ™ inkrementowaÄ‡ <b class="code">days</b>. ProszÄ™ uÅ¼yÄ‡ pÄ™tli <a target="_blank" href="https://www.w3schools.com/python/python_while_loops.asp">while</a>, aby iterowaÄ‡ po datach i <b class="code">date.isoweekday()</b>, aby znaleÅºÄ‡ dzieÅ„ tygodnia daty.
        </p>
        <pre class="brush: python">
while d1 <= d2:
    if d1 not in holy and d1.isoweekday() < 6:
        days += 1
    d1 += timedelta(days=1)
        </pre>
    </div>
</div>
<div class="question-answer">
    <div class="question">
        Co zrobiÄ‡ po obliczeniu liczby dni roboczych?
    </div>
    <div class="answer">
        <p>
            ProszÄ™ obliczyÄ‡ zmiennoprzecinkowÄ… liczbÄ™ godzin pracy dziennie jako <b class="code">timedelta.seconds/3600</b>, pomnoÅ¼yÄ‡ przez liczbÄ™ dni i zaokrÄ…gliÄ‡ do 2 znakÃ³w po kropce.
        </p>
        <pre class="brush: python">
return round(days * working_hours_day.seconds/3600, 2)
        </pre>
    </div>
</div>
<div class="question-answer">
    <div class="question">
        Jak wiÄ™c powinno wyglÄ…daÄ‡ moje ostateczne rozwiÄ…zanie?
    </div>
    <div class="answer">
        <p>
            Wystarczy poÅ‚Ä…czyÄ‡ wszystkie poprzednie podpowiedzi i zawinÄ…Ä‡ kod w wyraÅ¼enie funkcyjne. UÅ¼ywanie podpowiedzi typu dla danych wejÅ›ciowych i wyjÅ›ciowych jest wysoce zalecane.
        </p>
        <p>Oto caÅ‚e rozwiÄ…zanie:</p>
        <div class="spoiler">
        <pre class="brush: python">
from datetime import timedelta, date


def working_hours(
    date1: str, date2: str, start_time: str, end_time: str, holy: list[str]
) -> int | float:
    
    d1, d2 = map(date.fromisoformat, (date1, date2))
    holy = tuple(map(date.fromisoformat, holy))
    h1, m1 = map(int, start_time.split(":"))
    h2, m2 = map(int, end_time.split(":"))
    working_hours_day = timedelta(hours=h2-h1, minutes=m2-m1)
    days = 0
    while d1 <= d2:
        if d1 not in holy and d1.isoweekday() < 6:
            days += 1
        d1 += timedelta(days=1)

    return round(days * working_hours_day.seconds/3600, 2)
        </pre>
        </div>
        <p>ProszÄ™ kliknÄ…Ä‡ <b>Best Solutions</b> w menu misji i zobaczyÄ‡ wiele innych ciekawych rozwiÄ…zaÅ„!</p>
    </div>
</div>
<div class="question-answer">
    <div class="question">
        DziÄ™ki! Teraz wiem i rozumiem wiÄ™cej! Wszystko dziaÅ‚a jak naleÅ¼y!
    </div>
    <div class="answer">
        MiÅ‚o mi to sÅ‚yszeÄ‡ ğŸ‘!
    </div>
</div>
</body>